<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>100 Jarudianos Dijeron</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden; /* SIN SCROLL */
  font-family: Arial, Helvetica, sans-serif;
}

/* ---------- INICIO ---------- */
.start-screen {
  height: 100vh;
  background: #d3d3d3;
  color: red;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.start-screen img { width: 180px; }

.start-screen h1 {
  font-size: 48px;
  margin: 30px 0;
}

button {
  padding: 14px 32px;
  font-size: 18px;
  background: red;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

/* ---------- JUEGO ---------- */
.game-screen {
  display: none;
  height: 100vh;
  background: white;
  position: relative;
  padding: 20px 40px 10px;
}

.logo-small {
  position: absolute;
  top: 15px;
  right: 20px;
  width: 95px;
}

.category-title {
  margin-top: 45px;
  text-align: center;
  font-size: 26px;
}

.errors {
  text-align: center;
  font-size: 90px;
  color: red;
  height: 90px;
  margin-bottom: 5px;
}

/* RESPUESTAS EN UNA COLUMNA */
.answers {
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
  height: 45vh;
  max-width: 800px;
  margin: 0 auto;
}

.answer {
  background: #e0e0e0;
  border: 4px solid red;
  height: 80px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 26px;
  cursor: pointer;
}

.answer.revealed {
  background: white;
  color: black;
}

.score {
  font-weight: bold;
  margin-left: 10px;
}

/* ---------- CONTROLES ---------- */
.controls {
  text-align: center;
  margin-top: 8px;
}

/* ---------- FINAL ---------- */
.end-screen {
  display: none;
  height: 100vh;
  background: white;
  position: relative;
  text-align: center;
  padding-top: 150px;
}

.end-screen h2 {
  font-size: 36px;
}

.end-screen p {
  font-size: 26px;
  font-weight: bold;
  color: red;
  margin: 8px 0;
}
</style>
</head>

<body>

<!-- SONIDOS -->
<audio id="buzzerSound" src="buzzer.mp3"></audio>
<audio id="correctSound" src="correct.mp3"></audio>

<!-- INICIO -->
<div class="start-screen" id="startScreen">
  <img src="logo.png">
  <h1>100 JARUDIANOS DIJERON</h1>
  <button onclick="startGame()">Iniciar juego!</button>
</div>

<!-- JUEGO -->
<div class="game-screen" id="gameScreen">
  <img src="logo.png" class="logo-small">

  <div class="category-title" id="categoryTitle"></div>
  <div class="errors" id="errors"></div>
  <div class="answers" id="answers"></div>

  <div class="controls">
    <button onclick="addError()">Incorrecto</button>
    <button id="nextBtn" onclick="nextCategory()">Siguiente categoría</button>
  </div>
</div>

<!-- FINAL -->
<div class="end-screen" id="endScreen">
  <img src="logo.png" class="logo-small">
  <h2>Gracias por tu excelente participación!</h2>
  <p>Sé inclusivo</p>
  <p>Sé innovador</p>
  <p>Obtén resultados de la manera correcta</p>
</div>

<script>
const gameData = [
  {
    category: "1. Dígame una habilidad que ayuda a crecer profesionalmente",
    answers: [
      { text: "Comunicación", score: 42 },
      { text: "Trabajo en equipo", score: 27 },
      { text: "Liderazgo", score: 18 },
      { text: "Adaptabilidad", score: 15 },
      { text: "Manejo del tiempo", score: 3 }
    ]
  },
  {
    category: "2. Dígame algo que una empresa puede hacer para desarrollar a su gente",
    answers: [
      { text: "Dar oportunidades", score: 42 },
      { text: "Capacitar", score: 39 },
      { text: "Escuchar al personal", score: 12 },
      { text: "Reconocer", score: 6 },
      { text: "Plan de carrera", score: 6 }
    ]
  },
  {
    category: "3. Dígame algo que motiva a aprender algo nuevo",
    answers: [
      { text: "Mejor sueldo", score: 27 },
      { text: "Superación personal", score: 24 },
      { text: "Crecimiento", score: 21 },
      { text: "Reconocimiento", score: 15 },
      { text: "Retos nuevos", score: 15 }
    ]
  },
  {
    category: "4. Dígame algo que hace un buen líder para desarrollar talento",
    answers: [
      { text: "Motiva", score: 33 },
      { text: "Escucha", score: 24 },
      { text: "Da retroalimentación", score: 21 },
      { text: "Predica con el ejemplo", score: 12 },
      { text: "Reconoce", score: 10 }
    ]
  },
  {
    category: "5. Dígame algo que ayuda a retener talento en una empresa",
    answers: [
      { text: "Oportunidades de crecimiento", score: 37 },
      { text: "Capacitación constante", score: 27 },
      { text: "Buen ambiente laboral", score: 21 },
      { text: "Liderazgo", score: 9 },
      { text: "Reconocimiento", score: 6 }
    ]
  },
  {
    category: "6. Dígame una señal de que una persona está desarrollando su talento",
    answers: [
      { text: "Mejora su desempeño", score: 39 },
      { text: "Asume retos", score: 21 },
      { text: "Aprende cosas nuevas", score: 15 },
      { text: "Comparte conocimientos", score: 15 },
      { text: "Tiene iniciativa", score: 15 }
    ]
  },
  {
    category: "7. Mencione algo que una persona puede enseñar a otros",
    answers: [
      { text: "Conocimientos", score: 33 },
      { text: "Experiencia", score: 27 },
      { text: "Buenas prácticas", score: 24 },
      { text: "Habilidades", score: 12 },
      { text: "Actitud", score: 9 }
    ]
  }
];

let current = 0;
let errorCount = 0;

function startGame() {
  startScreen.style.display = "none";
  gameScreen.style.display = "block";
  loadCategory();
}

function loadCategory() {
  const data = gameData[current];
  categoryTitle.innerText = data.category;
  errors.innerText = "";
  errorCount = 0;
  answers.innerHTML = "";

  [...data.answers].sort((a,b)=>b.score-a.score).forEach(a=>{
    const div = document.createElement("div");
    div.className = "answer";
    div.innerHTML = "&nbsp;";
    div.onclick = ()=>{
      if(!div.classList.contains("revealed")){
        div.classList.add("revealed");
        div.innerHTML = `${a.text} <span class="score">(${a.score})</span>`;
        correctSound.currentTime = 0;
        correctSound.play();
      }
    };
    answers.appendChild(div);
  });

  nextBtn.innerText =
    current === gameData.length - 1
      ? "Finalizar juego"
      : "Siguiente categoría";
}

/* ❌ INCORRECTO: SOLO 4 CLICS POR PREGUNTA */
function addError() {
  if (errorCount >= 4) return; // bloqueado después del 4to

  errorCount++;

  if (errorCount === 4) {
    errors.innerText = "X";
  } else {
    errors.innerText = "X".repeat(errorCount);
  }

  buzzerSound.currentTime = 0;
  buzzerSound.play();
}

function nextCategory() {
  current++;
  if (current < gameData.length) {
    loadCategory();
  } else {
    gameScreen.style.display = "none";
    endScreen.style.display = "block";
  }
}
</script>

</body>
</html>